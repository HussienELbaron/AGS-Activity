<!DOCTYPE html>
<!--
  الصفحة الرئيسية للمنصة متعددة الصفحات.
  تحتوى على سلايدر يعرض صور للفعاليات القادمة بكامل عرض الصفحة،
  إحصاءات للمشتركين والأنشطة الحالية، محرك بحث مع فلاتر، أقسام للعروض
  الأكثر طلباً، الفعاليات الحالية، الرحلات الحالية، وأزرار منفصلة للتسجيل/الدخول
  وتغيير اللغة ولوحة الإدارة.
-->
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>مدارس الأجيال المتطورة - الرئيسية</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="header d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center">
        <!-- Sidebar toggle button (RTL on right) -->
        <button class="menu-toggle me-2" onclick="toggleSidebar()">☰</button>
        <!-- Logo -->
        <a href="index.html" class="brand">
          <img src="images/logo.png" alt="شعار المدرسة" />
        </a>
      </div>
      <!-- Action buttons: login, language switch, admin panel -->
      <div class="header-actions d-flex align-items-center">
        <a href="login.html" class="btn btn-outline-primary me-2">تسجيل/دخول</a>
        <a href="index-en.html" class="btn btn-outline-secondary me-2">English</a>
        <a href="admin/login.html" class="btn btn-outline-secondary" title="لوحة التحكم">🔒</a>
      </div>
    </header>

    <!-- Sidebar -->
    <nav id="sidebar" class="sidebar">
      <ul class="menu">
        <li><a href="index.html" onclick="toggleSidebar()">🏠 الرئيسية</a></li>
        <li><a href="paid-activities.html" onclick="toggleSidebar()">💰 الأنشطة المدفوعة</a></li>
        <li><a href="free-activities.html" onclick="toggleSidebar()">🎯 الأنشطة المجانية</a></li>
        <li><a href="trips.html" onclick="toggleSidebar()">🚌 الرحلات</a></li>
        <li><a href="calendar.html" onclick="toggleSidebar()">📅 التقويم الدراسى</a></li>
        <li><a href="gallery.html" onclick="toggleSidebar()">🖼️ معرض الصور</a></li>
        <li><a href="contact.html" onclick="toggleSidebar()">✉️ تواصل معنا</a></li>
      </ul>
    </nav>
    <div id="sidebar-overlay" class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <!-- Main Content -->
    <main class="content">
      <!-- Hero Slider using Bootstrap carousel -->
      <section id="hero-carousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active" style="background-image: url('images/hero-bg.jpg')">
            <div class="carousel-caption text-start">
              <h2>فعاليات قادمة</h2>
              <p>اكتشف أحدث الأنشطة والفعاليات القادمة وشارك معنا!</p>
            </div>
          </div>
          <!-- يمكن إضافة شرائح أخرى من خلال لوحة التحكم -->
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#hero-carousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">السابق</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#hero-carousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">التالى</span>
        </button>
      </section>

      <!-- Statistics Section -->
      <section class="stats-section text-center py-5">
        <div class="container">
          <div class="row" id="stats-container">
            <!-- سيتم تعبئتها ديناميكياً عبر JS -->
          </div>
        </div>
      </section>

      <!-- Search & Filters -->
      <section class="search-section py-5 bg-light">
        <div class="container">
          <h3 class="text-center mb-4">ابحث عن الأنشطة والرحلات</h3>
          <form id="search-form" class="row g-3 justify-content-center">
            <div class="col-md-4">
              <input type="text" class="form-control" id="search-query" placeholder="كلمة البحث" />
            </div>
            <div class="col-md-3">
              <select class="form-select" id="filter-type">
                <option value="all">جميع الأنواع</option>
                <option value="paid">نشاط مدفوع</option>
                <option value="free">نشاط مجاني</option>
                <option value="trip">رحلة</option>
              </select>
            </div>
            <div class="col-md-3">
              <select class="form-select" id="filter-grade">
                <option value="all">جميع المراحل</option>
                <option value="4">الرابع الابتدائي</option>
                <option value="5">الخامس الابتدائي</option>
                <option value="6">السادس الابتدائي</option>
                <option value="7">الأول المتوسط</option>
                <option value="8">الثاني المتوسط</option>
                <option value="9">الثالث المتوسط</option>
                <option value="10">الأول الثانوي</option>
                <option value="11">الثاني الثانوي</option>
                <option value="12">الثالث الثانوي</option>
              </select>
            </div>
            <div class="col-md-2 d-grid">
              <button type="submit" class="btn btn-primary">بحث</button>
            </div>
          </form>
          <div id="search-results" class="mt-4"></div>
        </div>
      </section>

      <!-- Upcoming Events Section -->
      <section class="events-section py-5">
        <div class="container">
          <h3 class="text-center mb-4">الأحداث القادمة</h3>
          <div id="upcoming-events" class="row g-4 justify-content-center">
            <!-- سيتم تعبئتها عبر JS -->
          </div>
        </div>
      </section>

      <!-- Most Requested Activities Carousel -->
      <section class="carousel-section py-5 bg-light">
        <div class="container">
          <h3 class="text-center mb-4">الأنشطة الأكثر طلباً</h3>
          <div id="carousel-popular-activities" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="popular-activities"></div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carousel-popular-activities" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">السابق</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carousel-popular-activities" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">التالى</span>
            </button>
          </div>
        </div>
      </section>

      <!-- Current Events Carousel -->
      <section class="carousel-section py-5">
        <div class="container">
          <h3 class="text-center mb-4">الفعاليات الحالية</h3>
          <div id="carousel-current-events" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="current-events"></div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carousel-current-events" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">السابق</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carousel-current-events" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">التالى</span>
            </button>
          </div>
        </div>
      </section>

      <!-- Current Trips Carousel -->
      <section class="carousel-section py-5 bg-light">
        <div class="container">
          <h3 class="text-center mb-4">الرحلات الحالية</h3>
          <div id="carousel-current-trips" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="current-trips"></div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carousel-current-trips" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">السابق</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carousel-current-trips" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">التالى</span>
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- Chatbot Toggle -->
    <button id="chatbot-toggle" class="chatbot-toggle" onclick="toggleChatbot()">💬</button>
    <div id="chatbot-container" class="chatbot-container">
      <div class="chatbot-header">
        <span>مساعد AGS</span>
        <button class="btn-close btn-sm" onclick="toggleChatbot()"></button>
      </div>
      <div id="chatbot-messages" class="chatbot-messages"></div>
      <div class="chatbot-input d-flex">
        <input type="text" id="chatbot-user-input" class="form-control" placeholder="اكتب سؤالك..." />
        <button class="btn btn-secondary" onclick="sendMessage()">إرسال</button>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer text-center py-4">
      <p>جميع الحقوق محفوظة &copy; مدارس الأجيال المتطورة العالمية 2025</p>
      <p>
        <a href="#">سياسة الخصوصية</a> | <a href="#">الشروط والأحكام</a>
      </p>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/chatbot.js"></script>
  </body>
</html>